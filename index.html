<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>¡Feliz San Valentín!</title>
  <style>
    body {
      background: #ffd6dc;
      font-family: 'Segoe UI', cursive, sans-serif;
      text-align: center;
      min-height: 100vh;
      margin: 0;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .container {
      width: 100vw;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    h1 {
      font-size: 2.2em;
      margin-bottom: 5px;
      color: #222;
      font-weight: bold;
      letter-spacing: -1px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-family: 'Segoe Script', 'Segoe UI', cursive, sans-serif;
    }
    .subtitle {
      font-size: 1.1em;
      margin-bottom: 24px;
      color: #444;
    }
    .envelope-wrapper {
      position: relative;
      width: 320px;
      height: 230px;
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      perspective: 600px;
      z-index: 10;
    }
    .envelope {
      width: 300px;
      height: 180px;
      background: #ff989d;
      border-radius: 18px 18px 28px 28px;
      position: relative;
      box-shadow: 0 8px 32px #ff8da2bb;
      z-index: 2;
      overflow: visible;
      margin: 0 auto;
      transition: box-shadow 0.3s;
    }
    .flap {
      position: absolute;
      width: 300px;
      height: 120px;
      top: -96px;
      left: 0;
      background: #ffb6c1;
      clip-path: polygon(0 0, 100% 0, 50% 98%);
      z-index: 2;
      transform-origin: bottom center;
      transition: transform 0.7s cubic-bezier(.86,0,.07,1);
      box-shadow: 0 5px 18px #eeb0c2aa;
    }
    .envelope.open .flap {
      transform: rotateX(-150deg) scaleY(1.06);
      box-shadow: none;
      z-index: 0;
    }
    .heart {
      width: 44px;
      height: 44px;
      background: #f54b78;
      position: absolute;
      left: 50%;
      top: 84px;
      transform: translate(-50%, -50%) rotate(-45deg);
      border-radius: 60% 60% 60% 60%;
      z-index: 3;
      box-shadow: 0 1px 6px #c13952;
    }
    .heart::before,
    .heart::after {
      content: "";
      position: absolute;
      width: 44px;
      height: 44px;
      background: #f54b78;
      border-radius: 50%;
    }
    .heart::before {
      top: -22px;
      left: 0;
    }
    .heart::after {
      left: 22px;
      top: 0;
    }
    .letter {
      position: absolute;
      left: 50%;
      top: 28px;
      width: 250px;
      background: #fffbe3;
      color: #433e29;
      font-family: 'Dancing Script', cursive, serif;
      font-size: 1.13em;
      border: 2px dashed #e0c490;
      border-radius: 10px;
      padding: 19px 15px 10px 15px;
      box-shadow: 0 6px 24px #0001;
      z-index: 20;
      opacity: 0;
      pointer-events: none;
      transform: translateX(-50%) scale(0.98);
      transition: opacity 0.6s, top 0.7s, transform 0.7s;
      line-height: 1.5;
      min-height: 60px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }
    .envelope.open .letter {
      opacity: 1;
      pointer-events: auto;
      top: -80px;
      transform: translateX(-50%) scale(1.06);
      transition-delay: 0.18s;
    }
    .letter img {
      margin-top: 12px;
      max-width: 85%;
      border-radius: 10px;
      box-shadow: 0 2px 12px #0002;
      border: 2px solid #ffd6dc;
      margin-bottom: 6px;
    }
    .btns {
      margin-top: 18px;
      display: flex;
      justify-content: center;
      gap: 18px;
    }
    button {
      background: #ff489a;
      color: #fff;
      font-size: 1.15em;
      padding: 10px 32px;
      border: none;
      border-radius: 13px;
      box-shadow: 0 2px 10px #ffadcac0;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.2s;
      letter-spacing: 0.5px;
      z-index: 99;
      position: relative;
    }
    button:hover {
      background: #fd78ad;
    }
    /* Corazones flotantes */
    .floating-heart {
      position: absolute;
      pointer-events: none;
      width: 34px;
      height: 34px;
      animation: float 2.4s linear forwards;
      z-index: 30;
      opacity: 0.93;
      filter: drop-shadow(0 0 10px #ff80b3c9);
    }
    @keyframes float {
      0% { opacity: 0.7; transform: translateY(0) scale(1) rotate(-10deg);}
      40% { opacity: 1; transform: translateY(-30px) scale(1.12) rotate(16deg);}
      80% { opacity: 0.7; transform: translateY(-98px) scale(1.17) rotate(-8deg);}
      100% { opacity: 0; transform: translateY(-140px) scale(1.19) rotate(15deg);}
    }
    @media (max-width: 500px) {
      .envelope-wrapper, .envelope {width: 98vw !important;}
      .letter {width: 86vw !important;}
      .flap {width: 98vw !important;}
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1>¡Eres muy especial para mi! <span>❤️</span></h1>
    <div class="subtitle">Una pequeña sorpresa para ti...</div>
    <div class="envelope-wrapper">
      <div class="envelope" id="envelope">
        <div class="heart"></div>
        <div class="letter" id="letter">
          Los años pasan y aveces la vida nos da sorpresa en los momentos menos esperado, una de las mejores sorpresas eres tu, no dejo de pensar en ti por que te volviste importante para mi y te convertiste en la sorpresa mas hermosa que eh tenido este año.<br>
          <b>—Maci.</b>
          <img id="imgCarta" src="https://i.imgur.com/Nbk6aCI.png" alt="Imagen especial">
        </div>
      </div>
    </div>
    <div class="btns">
      <button id="abrirBtn">Abrir</button>
      <button id="cerrarBtn">Cerrar</button>
    </div>
  </div>
  <!-- Corazones flotantes -->
  <svg id="svg-heart" style="display: none;" viewBox="0 0 36 36">
    <path d="M18 33s-1.45-1.32-6.6-6.08C6.46 23.19 2 19.09 2 13.93 2 8.99 6.33 5 11.38 5c2.46 0 4.75 1.08 6.62 2.89C19.87 6.08 22.16 5 24.62 5 29.67 5 34 8.99 34 13.93c0 5.16-4.46 9.26-9.4 13-5.15 4.76-6.6 6.08-6.6 6.08z" fill="#ff489a"/>
  </svg>
  <script>
    const abrirBtn = document.getElementById('abrirBtn');
    const cerrarBtn = document.getElementById('cerrarBtn');
    const envelope = document.getElementById('envelope');
    function showHearts() {
      const wrapper = document.querySelector('.envelope-wrapper');
      const rect = wrapper.getBoundingClientRect();
      for (let i = 0; i < 12; i++) {
        setTimeout(() => {
          let heart = document.createElement('div');
          heart.className = 'floating-heart';
          let svg = document.getElementById('svg-heart').cloneNode(true);
          svg.style.display = '';
          svg.style.width = '34px';
          svg.style.height = '34px';
          heart.appendChild(svg);
          heart.style.left = (rect.left + 90 + Math.random()*120 - 35) + 'px';
          heart.style.top = (window.scrollY + rect.top + 65 + Math.random()*18 - 7) + 'px';
          document.body.appendChild(heart);
          setTimeout(() => heart.remove(), 2400);
        }, i * 140);
      }
    }
    abrirBtn.onclick = () => {
      envelope.classList.add('open');
      setTimeout(showHearts, 320);
    }
    cerrarBtn.onclick = () => {
      envelope.classList.remove('open');
    }
  </script>
</body>
</html>
